(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/equipmentDetail/equipmentDetail"],{

/***/ "../../../../uniapp/blueToothLight/main.js?{\"page\":\"pages%2FequipmentDetail%2FequipmentDetail\"}":
/*!*********************************************************************************************!*\
  !*** D:/uniapp/blueToothLight/main.js?{"page":"pages%2FequipmentDetail%2FequipmentDetail"} ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
__webpack_require__(/*! uni-pages */ "../../../../uniapp/blueToothLight/pages.json");
var _mpvuePageFactory = _interopRequireDefault(__webpack_require__(/*! mpvue-page-factory */ "./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mpvue-page-factory/index.js"));
var _equipmentDetail = _interopRequireDefault(__webpack_require__(/*! ./pages/equipmentDetail/equipmentDetail.vue */ "../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue"));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
Page((0, _mpvuePageFactory.default)(_equipmentDetail.default));

/***/ }),

/***/ "../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue":
/*!**************************************************************************!*\
  !*** D:/uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _equipmentDetail_vue_vue_type_template_id_ce923906___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./equipmentDetail.vue?vue&type=template&id=ce923906& */ "../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=template&id=ce923906&");
/* harmony import */ var _equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./equipmentDetail.vue?vue&type=script&lang=js& */ "../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=script&lang=js&");
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */

var component = Object(_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _equipmentDetail_vue_vue_type_template_id_ce923906___WEBPACK_IMPORTED_MODULE_0__["render"],
  _equipmentDetail_vue_vue_type_template_id_ce923906___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=script&lang=js&":
/*!***************************************************************************************************!*\
  !*** D:/uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tools_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!./equipmentDetail.vue?vue&type=script&lang=js& */ "./node_modules/babel-loader/lib/index.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js?!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js?!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib/index.js?!../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=script&lang=js&");
/* harmony import */ var _tools_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tools_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _tools_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _tools_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_tools_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=template&id=ce923906&":
/*!*********************************************************************************************************!*\
  !*** D:/uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=template&id=ce923906& ***!
  \*********************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_template_id_ce923906___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!./equipmentDetail.vue?vue&type=template&id=ce923906& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js?!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib/index.js?!../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=template&id=ce923906&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_template_id_ce923906___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_tools_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_tools_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_equipmentDetail_vue_vue_type_template_id_ce923906___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js?!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js?!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib/index.js?!../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!D:/uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _default =



























{
  onLoad: function onLoad(option) {
    uni.setNavigationBarTitle({
      title: '设备控制' });

    this.deviceId = option.deviceId + '';
  },
  data: function data() {
    return {
      deviceId: '',
      notifyServiceId: '',
      notifyCharacteristicsId: '' };

  },
  methods: {
    sliderChange: function sliderChange(e) {
      console.log('value 发生变化：' + e.detail.value);
      sendData(e.detail.value);
    },
    switchChange: function switchChange(e) {
      console.log('携带值为', e.target.value);
      if (e.target.value) {//连接蓝牙
        this.createBLEConnection();
      } else {//关闭蓝牙
        this.closeBLEConnection();
      }
    },
    //向蓝牙设备发送数据
    sendData: function sendData(str) {
      var that = this;
      var dataBuffer = new ArrayBuffer(str.length);
      var dataView = new DataView(dataBuffer);
      for (var i = 0; i < str.length; i++) {
        dataView.setUint8(i, str.charAt(i).charCodeAt());
      }
      var dataHex = that.ab2hex(dataBuffer);
      this.writeDatas = that.hexCharCodeToStr(dataHex);
      uni.writeBLECharacteristicValue({
        deviceId: that.deviceId,
        serviceId: that.notifyServiceId,
        characteristicId: that.notifyCharacteristicsId,
        value: dataBuffer,
        success: function success(res) {
          console.log('发送的数据：' + that.writeDatas);
          console.log('message发送成功');
        },
        fail: function fail(res) {},
        complete: function complete(res) {} });

    },
    /*转成二进制*/
    ab2hex: function ab2hex(buffer) {
      var hexArr = Array.prototype.map.call(
      new Uint8Array(buffer),
      function (bit) {
        return ('00' + bit.toString(16)).slice(-2);
      });

      return hexArr.join('');
    },
    /*转成可展会的文字*/
    hexCharCodeToStr: function hexCharCodeToStr(hexCharCodeStr) {
      var trimedStr = hexCharCodeStr.trim();
      var rawStr = trimedStr.substr(0, 2).toLowerCase() === '0x' ? trimedStr.substr(2) : trimedStr;
      var len = rawStr.length;
      var curCharCode;
      var resultStr = [];
      for (var i = 0; i < len; i = i + 2) {
        curCharCode = parseInt(rawStr.substr(i, 2), 16);
        resultStr.push(String.fromCharCode(curCharCode));
      }
      return resultStr.join('');
    },
    /**
        * 连接低功耗蓝牙
        */
    createBLEConnection: function createBLEConnection() {var _this = this;
      uni.showToast({
        title: '连接蓝牙...',
        icon: 'loading',
        duration: 99999 });

      var deviceId = this.deviceId;
      uni.createBLEConnection({
        // 这里的 deviceId 需要已经通过 createBLEConnection 与对应设备建立链接
        deviceId: deviceId,
        success: function success(res) {
          console.log(res);
          console.log('连接蓝牙成功:' + res.errMsg);
          // 连接设备后断开搜索 并且不能搜索设备
          _this.stopBluetoothDevicesDiscovery();
          uni.hideToast();
          uni.showToast({
            title: '连接成功',
            icon: 'success',
            duration: 2000 });

        },
        fail: function fail(e) {
          console.log('连接低功耗蓝牙失败，错误吗：' + e.errCode);

        } });

    },
    /**
        * 停止搜索蓝牙设备
        */
    stopBluetoothDevicesDiscovery: function stopBluetoothDevicesDiscovery() {
      uni.stopBluetoothDevicesDiscovery({
        success: function success(e) {
          console.log('停止搜索蓝牙设备:' + e.errMsg);
        },
        fail: function fail(e) {
          console.log('停止搜索蓝牙设备失败，错误吗：' + e.errCode);
        } });

    },
    /**
        * 断开与低功耗蓝牙设备的连接
        */
    closeBLEConnection: function closeBLEConnection() {
      var deviceId = this.deviceId;
      uni.closeBLEConnection({
        deviceId: deviceId,
        success: function success(res) {
          console.log(res);
          console.log('断开低功耗蓝牙成功:' + res.errMsg);
        },
        fail: function fail(e) {
          console.log('断开低功耗蓝牙成功，错误吗：' + e.errCode);
        } });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ "./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["default"]))

/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js?!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib/index.js?!../../../../uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=template&id=ce923906&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!D:/uniapp/blueToothLight/pages/equipmentDetail/equipmentDetail.vue?vue&type=template&id=ce923906& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("view", [
    _c("view", { staticClass: "uni-padding-wrap uni-common-mt" }, [
      _c("view", { staticClass: "uni-title" }, [_vm._v("开灯/关灯")]),
      _c("view", [
        _c("switch", {
          attrs: { color: "#F76260", checked: "", eventid: "861fd408-0" },
          on: { change: _vm.switchChange }
        })
      ])
    ]),
    _c("view", { staticClass: "uni-padding-wrap uni-common-mt" }, [
      _c("view", { staticClass: "uni-title" }, [_vm._v("亮度")]),
      _c("view", [
        _c("slider", {
          attrs: {
            "block-color": "#FFB400",
            activeColor: "#F76260",
            value: "50",
            min: "0",
            max: "100",
            "show-value": "",
            eventid: "861fd408-1"
          },
          on: { change: _vm.sliderChange }
        })
      ])
    ])
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ })

},[["../../../../uniapp/blueToothLight/main.js?{\"page\":\"pages%2FequipmentDetail%2FequipmentDetail\"}","common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/equipmentDetail/equipmentDetail.js.map